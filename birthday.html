<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday!</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.6/lottie.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    
    <div class="container">
        <h1 class="title">Happy Birthday, Muskan ji..!</h1>
        <p id="birthdayMessage">Happy birthday to my dearest friend! I hope your day is filled with happiness and all your dreams come true</p>
        <button id="birthdayButton" class="styled-button">Click for a Surprise!</button>

        <!-- Cake Animation -->
    </div>
</div>

<canvas id="confetti-canvas"></canvas>
<div id="cakeAnimation" class="lottie-animation">
<div id="animation2" class="lottie-animation-clebration" >

    <script>
        document.getElementById("birthdayButton").addEventListener("click", function () {
        console.log("next btn click")
        window.location.href = "messages.html";
      });
        //Initialize Lottie Animation for the Cake
        const cakeAnimation = lottie.loadAnimation({
            container: document.getElementById('cakeAnimation'), // the DOM element that will contain the animation
            renderer: 'svg', // render as SVG
            loop: false, // loop the animation
            autoplay: true, // start playing the animation immediately
            path: 'animation.json' // URL to the Lottie JSON file for cake animation
        });
        cakeAnimation.setSpeed(0.5);
        const animation2 = lottie.loadAnimation({
            container: document.getElementById('animation2'), // the DOM element that will contain the animation
            renderer: 'svg', // render as SVG
            loop: true, // loop the animation
            autoplay: true, // start playing the animation immediately
            path: 'animation-2.json' // URL to the Lottie JSON file for cake animation
        });
        animation2.setSpeed(0.5);
        

        document.addEventListener('DOMContentLoaded', function() {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            let stars = [];
            const numStars = 300; // Increased number of stars

            // Function to generate a random color
            function getRandomColor() {
                const letters = '0123456789ABCDEF';
                let color = '#';
                for (let i = 0; i < 6; i++) {
                    color += letters[Math.floor(Math.random() * 16)];
                }
                return color;
            }

            // Star class
            class Star {
                constructor(x, y, radius) {
                    this.x = x;
                    this.y = y;
                    this.radius = radius;
                    this.opacity = Math.random();
                    this.speedX = (Math.random() - 0.5) * 0.5; // Horizontal speed
                    this.speedY = (Math.random() - 0.5) * 0.5; // Vertical speed
                    this.color = getRandomColor(); // Assign a random color to each star
                }

                draw() {
                    ctx.save();
                    ctx.globalAlpha = this.opacity;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fillStyle = this.color; // Use the star's color
                    ctx.fill();
                    ctx.restore();
                }

                update() {
                    this.x += this.speedX; // Move star horizontally
                    this.y += this.speedY; // Move star vertically

                    // Wrap around screen edges
                    if (this.x > canvas.width) this.x = 0;
                    if (this.x < 0) this.x = canvas.width;
                    if (this.y > canvas.height) this.y = 0;
                    if (this.y < 0) this.y = canvas.height;

                    // Randomly change opacity for twinkling effect
                    this.opacity += (Math.random() - 0.5) * 0.02; 
                    if (this.opacity > 1) this.opacity = 1;
                    if (this.opacity < 0) this.opacity = 0;
                }
            }

            // Create stars
            for (let i = 0; i < numStars; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const radius = Math.random() * 2 + 1; // Random radius between 1 and 3
                stars.push(new Star(x, y, radius));
            }

            // Animation loop
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                stars.forEach(star => {
                    star.update();
                    star.draw();
                });
                requestAnimationFrame(animate);
            }

            animate();
        });
    </script>
</body>

</html>
